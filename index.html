<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>If I Were...</title>

  <link rel="stylesheet" href="style.css">

  <!-- Firebase (compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script src="firebase-config.js"></script>
</head>

<body>
  <header class="app-header">
    <h1 class="fade-in">If I Were...</h1>
    <p class="subtitle">How well do you know your tribe?</p>
  </header>

  <main id="main">
    <!-- ========== LANDING ========== -->
    <section id="landing" class="page">
      <div class="card">
        <h2>Create or Join a Game</h2>

        <div class="form-row">
          <input id="hostName" placeholder="Host name" />
          <input id="playerCount" type="number" placeholder="Players (2–8)" min="2" max="8" />
          <button id="create-room-btn" class="teal-btn">Create Room</button>
        </div>

        <hr />

        <div class="form-row">
          <input id="playerName" placeholder="Your name" />
          <input id="roomCode" placeholder="Room code" />
          <button id="join-room-btn" class="teal-btn">Join Room</button>
        </div>
      </div>
    </section>

    <!-- ========== WAITING ROOM ========== -->
    <section id="waitingRoom" class="page hidden">
      <div class="card">
        <h2>Waiting Room</h2>
        <p id="room-code-display-game" class="muted">Room Code: —</p>
        <p id="players-count" class="muted">Players joined: 0 / ?</p>

        <ul id="playerList"></ul>

        <div id="hostControls" class="hidden">
          <button id="begin-game-btn" class="teal-btn hidden">Begin Game</button>
        </div>
      </div>
    </section>

    <!-- ========== Q&A PHASE ========== -->
    <section id="qa-phase" class="page hidden">
      <div class="card slide-in">
        <h2 id="phase-title">Q&A Phase</h2>
        <p class="muted">Answer the prompt as if you were...</p>
        <div id="questionCard" class="qa-tile"></div>
      </div>
    </section>

    <!-- ========== PRE-GUESS WAITING ========== -->
    <section id="pre-guess-waiting" class="page hidden">
      <div class="card slide-in">
        <h2>Waiting for everyone to finish Q&A...</h2>
        <p id="ready-status">Ready: 0 / 0</p>
        <ul id="guessPlayerStatusList"></ul>

        <div id="hostControls_guess" class="hidden">
          <button id="start-guessing-btn" class="teal-btn" disabled>Begin Guessing (Host)</button>
        </div>
      </div>
    </section>

    <!-- ========== GUESSING PHASE ========== -->
    <section id="guessing-phase" class="page hidden">
      <div class="card slide-in">
        <h2 id="active-guesser-label">Guessing Time!</h2>
        <p>Try to match each answer to the right player!</p>
        <div id="guess-card" class="qa-tile"></div>
        <div class="guess-controls">
          <button id="done-guessing-btn" class="teal-btn hidden">Done Guessing!</button>
        </div>
      </div>
    </section>

    <!-- ========== POST-GUESS WAITING ========== -->
    <section id="post-guess-waiting" class="page hidden">
      <div class="card slide-in">
        <h2>Waiting for others to finish guessing...</h2>
        <ul id="postGuessStatusList"></ul>
      </div>
    </section>

    <!-- ========== SCOREBOARD ========== -->
    <section id="scoreboard" class="page hidden">
      <div class="card slide-in">
        <h2>Final Scores</h2>
        <div id="score-list"></div>
        <div id="hostRevealControls" class="hidden">
          <button id="reveal-scores-btn" class="teal-btn">Reveal Scores</button>
        </div>
        <div id="finalControls" class="hidden">
          <button id="play-again-btn" class="teal-btn">Play Again</button>
        </div>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <small>Built with ❤️ by Kelz</small>
  </footer>

  <script src="script.js"></script>
</body>
</html>
